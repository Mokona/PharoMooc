% By Luc Fabresse, 2015
\ProvidesPackage{beamerthemePharoMooc}

% Default values if no video
\newlength{\videowidth}
\setlength{\videowidth}{0px}			% video width
\newcommand{\insertSpaceForVideo}{} % space for video

\newlength{\originaltextwidth}
\setlength{\originaltextwidth}{\textwidth}


% ====== Package option to reserve space for the video
\DeclareOptionBeamer{spaceforvideo}[false]{%
\setlength{\videowidth}{128px}%
%
%Affichage zone réservée pour la video
\renewcommand{\insertSpaceForVideo}{%
\begin{textblock*}{10px}(11.48cm,5.76cm)%
\includegraphics[width=\videowidth,height=91.7px]{espace-res-transparent}%
\end{textblock*}%
}%
%
\setlength{\textwidth}{\originaltextwidth - \videowidth}%
}
% \ExecuteOptionsBeamer{spaceforvideo=false}
\ProcessOptionsBeamer
% ===============

\usecolortheme{PharoMooc}
\useoutertheme{PharoMooc}

\setlist[itemize,1]{topsep=0em,partopsep=0.5em,label=\raisebox{0.4ex}{\tiny$\CIRCLE$},font=\color{Pharo-blue}}
\setlist[itemize,2]{label=\raisebox{0.1ex}{$\circ$},font=\color{Pharo-blue}}


\setlist[enumerate]{label*=\arabic*.,font=\color{Pharo-blue}}

\setlength{\leftmargini}{1.5em}

\usefonttheme{PharoMooc}

\RequirePackage{PharoSourceCode}


%-------------------------------------------------------------------------------
%                Section slides
%-------------------------------------------------------------------------------

\AtBeginSection[]
{
  \begin{frame}<beamer>
    \frametitle{Plan}
    \small\tableofcontents[currentsection,subsectionstyle=hide/hide/hide]
  \end{frame}
}

\AtBeginSubsection[] % Do nothing for \subsection* 
{ 
\begin{frame}<beamer> 
\frametitle{Plan}
\small\tableofcontents[currentsection,currentsubsection,subsectionstyle=show/shaded/hide] 
\end{frame} 
} 

%-------------------------------------------------------------------------------
%                Handout
%-------------------------------------------------------------------------------

% to print the handout version
% \mode<handout>{
%   \usepackage{pgfpages}
%   \pgfpagesuselayout{8 on 1}[a4paper,border shrink=2mm]
%   % \pgfpagesuselayout{16 on 1}[a4paper,border shrink=2mm,landscape]
%
%   % \setbeamercolor{background canvas}{bg=white}
%   % Make a border around frames
%   \setbeamertemplate{background canvas}{ \tikz \draw[semithick,draw=Pharo-blue!90!black]
%       (current page.north west)
%       rectangle
%       (current page.south east); }
% }
